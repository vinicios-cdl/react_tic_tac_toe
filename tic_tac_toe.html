
<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Jogo da Velha - React (Exercício)</title>
  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --accent:#10b981;
      --muted:#9ca3af;
      --white:#e6eef8;
    }
    html,body{height:100%;margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
    body{background:linear-gradient(120deg,#071024 0%, #07192a 60%);color:var(--white);display:flex;align-items:center;justify-content:center;padding:28px;}
    .container{width:min(860px,96%);background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));border-radius:12px;padding:20px;box-shadow:0 8px 30px rgba(2,6,23,0.6);}
    h1{margin:0 0 10px 0;font-size:20px}
    .layout{display:flex;gap:18px;align-items:flex-start}
    .game{display:flex;flex-direction:column;gap:14px;padding:12px;background:rgba(255,255,255,0.02);border-radius:10px;min-width:260px}
    .game-board{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
    .square{width:86px;height:86px;display:flex;align-items:center;justify-content:center;font-size:36px;font-weight:700;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:10px;border:1px solid rgba(255,255,255,0.04);cursor:pointer;user-select:none}
    .square:active{transform:scale(0.99)}
    .status{font-size:14px;color:var(--muted);padding:4px 6px}
    .info{flex:1;padding:12px;background:rgba(255,255,255,0.02);border-radius:10px}
    .moves{padding-left:18px;margin-top:6px}
    button.small{font-size:13px;padding:6px 10px;border-radius:8px;border:0;background:var(--accent);color:#062018;cursor:pointer}
    .controls{display:flex;gap:8px;flex-wrap:wrap}
    .board-row{display:flex;gap:8px}
    .footer{margin-top:10px;font-size:13px;color:var(--muted)}
    @media (max-width:640px){
      .layout{flex-direction:column}
      .square{width:64px;height:64px;font-size:28px}
    }
  </style>
</head>
<body>
  <div class="container" id="root"></div>

  <!-- React + ReactDOM + Babel (for JSX in browser) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

  <script type="text/babel">
    const { useState } = React;

    function Square({ value, onClick }) {
      return (
        <button className="square" onClick={onClick}>
          {value}
        </button>
      );
    }

    function Board({ squares, onPlay, xIsNext }) {
      const nextValue = xIsNext ? "X" : "O";
      const winner = calculateWinner(squares);
      const status = winner
        ? `Vencedor: ${winner}`
        : `Próximo jogador: ${nextValue}`;

      function handleClick(i) {
        if (squares[i] || winner) return;
        const nextSquares = squares.slice();
        nextSquares[i] = nextValue;
        onPlay(nextSquares);
      }

      return (
        <div>
          <div className="status">{status}</div>
          <div className="game-board" role="grid" aria-label="Tabuleiro do jogo">
            {Array.from({length:9}).map((_, i) => (
              <Square key={i} value={squares[i]} onClick={() => handleClick(i)} />
            ))}
          </div>
        </div>
      );
    }

    function Game() {
      const [history, setHistory] = useState([Array(9).fill(null)]);
      const [currentMove, setCurrentMove] = useState(0);
      const xIsNext = currentMove % 2 === 0;
      const currentSquares = history[currentMove];

      function handlePlay(nextSquares) {
        const nextHistory = [...history.slice(0, currentMove + 1), nextSquares];
        setHistory(nextHistory);
        setCurrentMove(nextHistory.length - 1);
      }

      function jumpTo(move) {
        setCurrentMove(move);
      }

      function resetGame() {
        setHistory([Array(9).fill(null)]);
        setCurrentMove(0);
      }

      const moves = history.map((_, move) => {
        const description = move ? `Ir para jogada #${move}` : "Início do jogo";
        return (
          <li key={move}>
            <button className="small" onClick={() => jumpTo(move)}>{description}</button>
          </li>
        );
      });

      return (
        <div className="layout">
          <div className="game">
            <Board squares={currentSquares} onPlay={handlePlay} xIsNext={xIsNext}/>
            <div className="controls" style={{justifyContent:'space-between'}}>
              <button className="small" onClick={resetGame}>Reiniciar jogo</button>
              <div style={{color:'var(--muted)', fontSize:13, alignSelf:'center'}}>Turno: {xIsNext ? 'X' : 'O'}</div>
            </div>
          </div>
          <div className="info">
            <h3 style={{margin:'0 0 6px 0'}}>Histórico de jogadas</h3>
            <ol className="moves">{moves}</ol>
            <div className="footer">Implementação baseada no tutorial do React — use para estudar e modificar.</div>
          </div>
        </div>
      );
    }

    function calculateWinner(squares) {
      const lines = [
        [0,1,2],[3,4,5],[6,7,8],
        [0,3,6],[1,4,7],[2,5,8],
        [0,4,8],[2,4,6]
      ];
      for (let [a,b,c] of lines) {
        if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {
          return squares[a];
        }
      }
      return null;
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<div>
      <h1>Jogo da Velha — Exercício concluído</h1>
      <Game />
    </div>);
  </script>
</body>
</html>
